# 수어번역 서비스 손누리개발 프로젝트

기간 및 인원: 2024.10 ~ 2024.11 (인원 5명)
기술스택: ChatGPT, Chrome Extension, FastAPI, JavaScript, MongoDB, RIFE  AI
담당역할: 팀장, 익스텐션 개발, BackEnd
프로젝트 개요: 크롬익스텐션을 통해 청각장애인을 위한 수어 번역 서비스를 제공하는 프로젝트입니다.

![image.png](/images/sonnuri/sonnuri.png)

<aside>
💡 청각장애인을 위한 수어번역 웹 익스텐션 서비스 손누리
청각 장애인들이 한글로 된 문장을 볼 때, 영어를 읽는 것과 같은 불편함을 느낀다고 한다.
즉, 청각 장애인들에게는 **한글은 제2외국어**이고, **모국어는 수어**라는 뜻이다.
실제로 **한국 수어와 한국어는 문법도 달라**서, **번역과정이 필요**하다.
한국어 문장을 한국 수어로 보여주는 서비스를 구현하였다.

</aside>

![A301_손누리 (1).gif](/images/sonnuri/sonnuri.gif)

## 청각장애인을 위한 한국어 ⇒ 수어 번역 프로젝트 손누리

### **1. 프로젝트 개요**

- **목표:**
    
    청각장애인을 위한 한국어 문장을 수어로 번역하여 실시간으로 제공하는 크롬 익스텐션 개발.
    
- **배경:**
    
    정보 접근성의 한계를 느끼는 청각장애인들을 위해, 웹 페이지의 텍스트를 한국 수어로 번역하여 보다 원활한 의사소통과 정보 이해를 돕기 위해 기획된 프로젝트.
    
- **주요 기능:**
    - 웹 페이지 텍스트를 선택하면 실시간으로 수어로 번역.
    - 한글로 된 텍스트를 드래그 하여 버튼을 클릭하는 형태로 문장 번역.
    - 수어 번역 결과를 시각적으로 표현하거나 동영상 형태로 제공.

---

### **2. 담당 역할 및 기여**

- **기여:**
    - 팀장
    - 익스텐션 개발 전담
    - 백엔드 구조 및 데이터 흐름 설계와 구현
- **기여:**
    - **크롬 익스텐션 개발:** 브라우저 상에서 직접 실행 가능한 환경 구축.
    - **한국어-수어 번역 API 통합:** FastAPI 기반의 백엔드와 연결.
    - **프론트엔드 설계:** React Extension Boilerplate를 사용해 사용자 인터페이스 구현.
    - **JavaScript 기반의 데이터 처리:** 웹 페이지에서 텍스트 선택 및 번역 요청 처리.

---

### **3. 사용 기술 및 이유**

- **사용 기술:**
    - **JavaScript:** 크롬 익스텐션 및 데이터 처리.
    - **React Extension Boilerplate:** 컴포넌트 기반 UI 설계와 재사용성 증대.
    - **FastAPI:** 번역 요청을 처리하는 빠르고 효율적인 백엔드 구축.
    - **MongoDB:** 번역 데이터를 효율적으로 저장 및 관리.
    - **RifeAI**: 영상이 자연스럽게 움직이게 보이게 하기 위한 프레임생성을 위해 사용
    - **키위AI**: 한국어 단어를 형태소 단위로 분석하여 DB와 1:1매칭하기 위해 사용
    - **Fast2Text**: 단어의 뜻의 유사도를 판별하여 비슷한 뜻이 있는 경우 해당 단어와 매칭하기 위해 사용
    - **ChatGPT**: 문장이 들어왔을 때, 한국어를 한국수어 문법으로 변환하여 번역하기 위해 사용. 타 모델보다 정확도가 높았음

---

### **4. 구현 사항**

- **크롬 익스텐션:**웹 페이지에서 텍스트를 드래그하면 번역 요청이 자동으로 서버로 전송.
- **번역 기능:**FastAPI와 연동하여 실시간으로 번역 결과 제공.
- **시각적 출력:**수어 번역 결과를 동영상 및 텍스트 형태로 사용자에게 제공.
- **데이터 관리:**MongoDB를 통해 사용자 번역 기록 저장 및 관리.

---

### **5. 프로젝트 성과 및 결과**

- **성과:**
    - **단어장 기능**의 경우, 서버를 거치지 않고 스크립트 상에서 저장해두고 가져오는 형태로, 자주 업데이트 되지 않는 DB의 특성을 이용하여 **서버 요청을 하지 않는 형태**로 구현하여 속도를 크게 향상시킴
    - 이미 **저장된 문장에 대한 번역**은 S3서버에 저장되고, 데이터베이스에 키 밸류 형태로 URL을 저장하여 **재요청시 더 많은 시간이 걸리지 않도록 유도**함
    - **크롬 익스텐션**으로 번역 서비스 제공, 사용자 친화적인 인터페이스 구현.
    - **React Extension Boilerplate**와 **FastAPI**를 활용해 빠르게 짧은 기간내 빠른 구현.
- **결과:**
    
    청각장애인들이 웹 페이지의 한국어 텍스트를 손쉽게 수어로 번역해 접근성을 크게 향상.
    

---

### 6. 주요 문제와 해결 방법

### ⚙️ 문제 1: 번역 API 호출 속도가 느려 실시간성이 떨어짐

**상황:**

크롬 익스텐션이 텍스트를 선택할 때마다 백엔드로 번역 요청을 보내는데,

AI 모델(Fast2Text + ChatGPT + KiwiAI)을 모두 거치다 보니

응답 시간이 평균 3~5초까지 늘어남.

**원인:**

- 모든 번역 요청을 백엔드에서 순차적으로 처리함
- 이미 번역된 문장에 대한 캐시 미사용

**해결 방법:**

1. **MongoDB + S3 기반 캐싱 구조 설계**
    - 번역된 문장은 `문장-번역결과 URL` 쌍으로 MongoDB에 저장
    - 동일 문장 재요청 시 AI 모델 호출 없이 즉시 반환
2. **단어장 로컬 캐시 추가**
    - 단어 단위의 변환 결과는 브라우저 스크립트(LocalStorage)에 저장
    - 서버 요청 없이 자주 쓰는 단어는 즉시 응답

**결과:**

- 평균 응답 속도 **3.8s → 1.1s 단축**
- 사용자 체감 반응성 개선 (실시간 번역 느낌 구현)

---

### 🧩 문제 2: 수어 영상이 끊기거나 프레임이 어색하게 이어짐

**상황:**

수어 문장 영상을 AI 모델(RifeAI)로 합성할 때, 단어 간 연결부(transition frame)에서 손 움직임이 부자연스러움.

**원인:**

- 단어 단위로 분리된 수어 영상을 단순 이어붙이는 방식 사용

**해결 방법:**

1. **RifeAI 기반 프레임 보간 적용**
    - 단어 영상 사이에 중간 프레임을 생성하여 자연스럽게 연결
2. **수어 문법 단위(문장 → 어절 → 단어)로 분리 생성**
    - ChatGPT를 통해 한국어 문장을 **한국수어 문법 순서로 변환 후** 영상 생성
    - “주어-동작-대상” 순서로 구성하여 의미 흐름 유지

**결과:**

- 영상 전환 시 끊김 현상 80% 이상 감소
- 시청자 평가 시 “자연스러운 수어 흐름” 피드백 획득

---

### 🧠 문제 3: 브라우저 보안 정책(CORS)으로 AI 서버 요청 차단

**상황:**

익스텐션에서 FastAPI 서버로 직접 요청 시,

크롬의 CORS 정책으로 인해 `Access-Control-Allow-Origin` 에러 발생.

**원인:**

- 브라우저와 서버 간의 Cross-Origin 요청 미허용
- 특히 로컬 개발 환경(`localhost:3000` → `localhost:8000`)에서 심각

**해결 방법:**

1. **FastAPI에 CORS 미들웨어 추가**
    
    ```python
    from fastapi.middleware.cors import CORSMiddleware
    
    app.add_middleware(
        CORSMiddleware,
        allow_origins=["*"],
        allow_credentials=True,
        allow_methods=["*"],
        allow_headers=["*"],
    )
    
    ```
    
2. **익스텐션 매니페스트에 `permissions` 및 `host_permissions` 명시**
    - API 도메인을 명시적으로 허용
    - HTTPS 배포 시, Cloudflare SSL 인증서 적용으로 보안 강화

**결과:**

- 모든 환경에서 API 요청 정상 동작
- 개발 환경과 배포 환경 모두 동일한 요청 구조 유지

---

### 📦 문제 4: 문장 번역 결과의 정확도가 일정하지 않음

**상황:**

동일한 문장이라도 ChatGPT 응답이 문맥에 따라 다른 수어 문장으로 번역되는 문제 발생.

→ “문장 단위 일관성” 부족

**원인:**

- AI 모델의 확률적 응답 특성
- 같은 단어라도 문맥에 따라 수어 표현이 달라짐

**해결 방법:**

1. **형태소 분석 기반 매핑 구조 도입 (KiwiAI)**
    - 문장을 형태소 단위로 분석하고, 단어별 표준 수어 DB 매칭
    - ChatGPT는 문장 구조 변환만 담당 → 의미 일관성 유지
2. **Fast2Text로 유사도 판단 및 가장 근접한 수어 매칭**
    - Fast2Text 유사도 스코어 0.8 이상인 경우 기존 매칭 사용

**결과:**

- 동일 문장 재번역 시 결과 일관성 확보

---

###